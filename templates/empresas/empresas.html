<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Proveedor</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../static/css/styles.css" />
    <link rel="stylesheet" href="./css/empresas.css">
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Meta tags para responsividad -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>

    </style>
  </head>

  <body>
    <div class="dashboard">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">
          <img
            src="../../static/media/logoLv.png"
            class="logo-grande"
            width="150"
            height="70"
            alt="logo linking value"
          />
        </div>
        <div class="sidebar-menu">
          <p class="menu-title">Navegación</p>
          <a href="#" class="menu-item active">
            <i class="fas fa-home"></i>
            <span>Proveedor</span>
          </a>
          <a href="#" class="menu-item">
            <i class="fas fa-bell"></i>
            <span>Notificaciones</span>
          </a>
          <a href="#" class="menu-item">
            <i class="fas fa-cog"></i>
            <span>Configuración</span>
          </a>

          <p class="menu-title">Empresa</p>
          <a href="#" class="menu-item">
            <i class="fas fa-building"></i>
            <span>Información</span>
          </a>
          <a class="menu-item" id="botonAyuda">
            <i class="fas fa-question-circle"></i>
            <span>Soporte</span>
          </a>
          <a id="logoutBtn" class="menu-item"
            ><i class="fas fa-sign-out-alt"></i><span>Cerrar sesión</span></a
          >
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Header -->
        <div class="header">
          <h1>Dashboard</h1>
          <div class="user-profile">
            <div
              id="avatar-iniciales"
              class="company-logo"
              style="border-radius: 50%"
            >
              PR
            </div>
            <div class="user-info">
              <h4 id="nombre-cliente"></h4>
              <p id="nombre-tercero"></p>
            </div>
          </div>
        </div>

        <!-- Welcome Banner -->
        <div class="welcome-banner">
          <div class="welcome-text">
            <h2>Formularios de Cumplimiento</h2>
            <p>
              Complete los formularios requeridos por su empresa cliente para
              mantener su relación comercial activa.
            </p>
          </div>
        </div>

        <!-- BOTONES -->
        <div class="table-actions">
          <button
            type="button"
            class="btn btn-primary"
            onclick="abrirModalAgregar(); return false;"
          >
            <i class="fas fa-plus"></i> Agregar Proveedor
          </button>

          <button
            type="button"
            class="btn btn-secondary"
            onclick="abrirModalExcel(); return false;"
          >
            <i class="fas fa-file-excel"></i> Cargar con Excel
          </button>
        </div>

        <!-- Companies Table -->
        <div class="companies-container">
          <div class="table-header">
            <h3>Proveedores Registrados</h3>
            <div class="search-bar">
              <i class="fas fa-search"></i>
              <input
                type="text"
                id="buscador"
                placeholder="Buscar empresa..."
              />
            </div>
          </div>
          <table class="table">
            <thead>
              <tr>
                <th>Proveedor</th>
                <th>Email</th>
                <th>Estado de Formularios</th>
              </tr>
            </thead>
            <tbody id="proveedoresContainer"></tbody>
          </table>
        </div>

        <!-- Topics Grid
      <div class="topics-container" id="proveedoresContainer">
      Proveedores se insertarán aquí dinámicamente 
      </div> -->
      </div>
    </div>

    <!-- MODALES  -->

    <!-- Modal de ayuda -->

    <div id="modalAyudaPersonalizado" class="modal-personalizado">
      <div class="modal-contenido">
        <span class="cerrar-modal">&times;</span>
        <h3>¿Necesitas ayuda?</h3>
        <p>
          Por favor, contáctate con
          <strong>it@transparencialatam.com</strong> para recibir asistencia.
        </p>
        <div class="modal-acciones">
          <button class="btn btn-secondary cerrar-modal-btn">Cerrar</button>
          <a href="mailto:it@transparencialatam.com" class="btn btn-primary"
            >Enviar correo</a
          >
        </div>
      </div>
    </div>

    <!-- Modal Agregar Proveedor -->
    <div id="modalAgregar" class="modal-flotante hidden">
      <div class="modal-content-flotante">
        <span class="close" onclick="cerrarModalAgregar()">&times;</span>
        <h3>Agregar nuevo proveedor</h3>

        <div class="form-group">
          <label for="nombreProveedor">Nombre del proveedor:</label>
          <input
            type="text"
            id="nombreProveedor"
            placeholder="Ej: Juan Pérez S.A."
          />
        </div>

        <div class="form-group">
          <label for="emailProveedor">Email de contacto:</label>
          <input
            type="email"
            id="emailProveedor"
            placeholder="Ej: contacto@empresa.com"
          />
        </div>

        <div id="mensajeExito" class="mensaje-exito hidden">
          <i class="fas fa-check-circle"></i> Proveedor guardado correctamente
        </div>

        <div class="modal-actions">
          <button class="btn btn-primary" onclick="guardarProveedor()">
            <i class="fas fa-save"></i> Guardar
          </button>
          <button class="btn btn-secondary" onclick="cerrarModalAgregar()">
            <i class="fas fa-times"></i> Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal Cargar Excel -->
    <div id="modalExcel" class="modal-flotante hidden">
      <div class="modal-content-flotante">
        <span class="close" onclick="cerrarModalExcel()">&times;</span>
        <h3>Cargar proveedores desde Excel</h3>

        <p class="modal-text">
          Sube un archivo Excel con la lista de proveedores. Asegúrate de usar
          el formato correcto.
        </p>

        <div class="download-template">
          <p>¿No tenés la plantilla?</p>
          <a
            href="../../static/plantilla/plantilla_proveedores.xlsx"
            download
            class="btn btn-outline"
          >
            <i class="fas fa-download"></i> Descargar plantilla
          </a>
        </div>

        <div class="file-input-container">
          <label>Selecciona tu archivo:</label>
          <input type="file" accept=".xlsx" id="archivoExcel" />
        </div>

        <div class="modal-actions">
          <button class="btn btn-primary" onclick="subirExcel()">
            <i class="fas fa-upload"></i> Subir archivo
          </button>
          <button class="btn btn-secondary" onclick="cerrarModalExcel()">
            <i class="fas fa-times"></i> Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS (con Popper incluido) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../src/script.js"></script>
    <script src="./src/empresas.js"></script>
    <script>
   
    </script>
  </body>
</html>
